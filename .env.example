# Next.js app environment variables
# Copy this to .env and fill in your credentials

PORT=3000

# APP_URL=https://listmagify.com

# Dev: http://127.0.0.1:3000 | Prod: https://listmagify.com
NEXTAUTH_URL=http://127.0.0.1:3000
NEXTAUTH_SECRET=change-me

# Get credentials at https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=your-spotify-client-id
SPOTIFY_CLIENT_SECRET=your-spotify-client-secret
# Redirect URI: http://127.0.0.1:3000/api/auth/callback/spotify

# ─────────────────────────────────────────────────────────────────────────────
# Bring Your Own Key (BYOK) - Let users use their own Spotify API credentials
# ─────────────────────────────────────────────────────────────────────────────
# When enabled, users can enter their own Spotify Client ID and Secret
# This allows users to have direct control over their own Spotify API access
# BYOK_ENABLED=true

# ─────────────────────────────────────────────────────────────────────────────
# Optional Features
# ─────────────────────────────────────────────────────────────────────────────

# Access Requests (landing "Request Access" + /api/access-request)
# Disabled by default; set to 'true' to show the CTA and enable the endpoint.
# ACCESS_REQUEST_ENABLED=true

# Email Verification for Access Requests
# Requires users to verify their email with a code before submitting access request
# ACCESS_REQUEST_EMAIL_VERIFICATION_ENABLED=true

# Usage Analytics (privacy-first, local SQLite)
# STATS_ENABLED=true
# STATS_DB_PATH=./data/metrics.db
# STATS_SALT=change-me-to-random-string
# STATS_ALLOWED_USER_IDS=spotify-user-id-1,spotify-user-id-2
# STATS_SHOW_USER_DETAILS=false  # Set to true to enable user detail popup (fetches username/email from Spotify API on-click)

# Error Reporting (requires CONTACT_EMAIL to be configured)
# ERROR_REPORTING_ENABLED=true

# Track Recommendations (graph-based, learns from playlists)
RECS_ENABLED=true
RECS_DB_PATH=./data/recs.db

# Playlist Auto-Reload (refresh interval in seconds)
PLAYLIST_POLL_INTERVAL_SECONDS=30


# ─────────────────────────────────────────────────────────────────────────────
# Content Licensing Information
# ─────────────────────────────────────────────────────────────────────────────


# Legal Pages (Imprint & Privacy Policy)
CONTACT_NAME=John Doe
CONTACT_STREET=123 Main Street
CONTACT_POSTAL_CODE=12345
CONTACT_CITY=Berlin
CONTACT_COUNTRY=Germany
CONTACT_EMAIL=contact@example.com

# ─────────────────────────────────────────────────────────────────────────────
# Email (SMTP) - for access request notifications
# ─────────────────────────────────────────────────────────────────────────────
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-smtp-username
# SMTP_PASS=your-smtp-password

# Optional: BCC all outgoing emails to keep copies in sent folder
# Can be a single email or comma-separated list (e.g., noreply@example.com,admin@example.com)
# EMAIL_BCC=noreply@example.com

# ─────────────────────────────────────────────────────────────────────────────
# Access Request Email Templates
# Use {name} as placeholder for the user's name
# ─────────────────────────────────────────────────────────────────────────────
# ACCESS_REQUEST_APPROVE_EMAIL=Hi {name},\n\nThanks a lot for your interest in Listmagify. Since the app is currently running in Spotify's development mode, access is limited to a small allowlist of users. I've added you to that list, so you can now log in and start using the app.\n\nIf you decide at any point that you're no longer using the app, it would be great if you could let me know so I can free up the slot for another user.\n\nAny feedback you're happy to share would be greatly appreciated — you can also use the feedback form directly in the app.\n\nYour Listmagify Team

# ACCESS_REQUEST_REJECT_EMAIL=Hi {name},\n\nThank you for your interest in Listmagify. Unfortunately, we're unable to approve your access request at this time due to limited user slots in Spotify's development mode.\n\nPlease feel free to try again later.\n\nYour Listmagify Team

# ACCESS_REQUEST_REVOKED_EMAIL=Hi {name},\n\nDue to limited user slots in Spotify's development mode or your low activity, we've had to remove your access to Listmagify.\n\nIf you'd like to use the app again, you're welcome to submit a new access request anytime.\n\nYour Listmagify Team

# ─────────────────────────────────────────────────────────────────────────────
# Last.fm Import (import tracks from Last.fm profiles)
# ─────────────────────────────────────────────────────────────────────────────
# Get your API key at https://www.last.fm/api/account/create
# LASTFM_API_KEY=your-lastfm-api-key
# LASTFM_USER_AGENT=Listmagify/1.0 (contact@listmagify.com)
# LASTFM_IMPORT_ENABLED=true
